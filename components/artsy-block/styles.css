@layer artsy-block {

  @property --cell-size {
    syntax: "<number>";
    inherits: false;
    initial-value: 40;
  }

  @property --frequency {
    syntax: "<number>";
    inherits: false;
    initial-value: 100;
  }

  @property --base-hue {
    syntax: "<number>";
    inherits: false;
    initial-value: 0;
  }

  @property --base-saturation {
    syntax: "<number>";
    inherits: false;
    initial-value: 100;
  }

  @property --base-lightness {
    syntax: "<number>";
    inherits: false;
    initial-value: 50;
  }

  @property --max-hue-spread {
    syntax: "<number>";
    inherits: false;
    initial-value: 180;
  }

  @property --angle-coeff {
    syntax: "<number>";
    inherits: false;
    initial-value: 1;
  }

  @property --anim-progress {
    syntax: "<number>";
    inherits: false;
    initial-value: 0;
  }

  @keyframes rotate {
    0% { --angle-coeff: 1 }
    100% { --angle-coeff: 3 }
  }

  @keyframes progress {
    0% { --anim-progress: 0; }
    100% { --anim-progress: 1; }
  }

  artsy-block {
    display: block;
    width: 100%;
    height: 100%;
    --cell-size: 40;
    --frequency: 100;
    --base-hue: 260;
    --base-saturation: 100;
    --base-lightness: 50;
    --max-hue-spread: 30;
    --angle-coeff: 1;
  }

  artsy-block[type="diamonds"] {
    background: paint(diamond-cells);
  }

  artsy-block[type="dots"] {
    background: paint(dot-cells);
  }

  artsy-block[type="big-dots"] {
    background: paint(big-dot-cells);
  }

  artsy-block[type="starfield"] {
    --base-saturation: 50;
    --base-lightness: 30;
    background: paint(starfield);
  }

  @media (prefers-color-scheme: dark) {
    artsy-block[type="starfield"] {
      --base-lightness: 70;
    }
  }

  artsy-block[type="labyrinth"] {
    background: paint(labyrinth);
  }

  artsy-block[type="rainfall"] {
    --base-lightness: 20;
    --fall-duration: 1500; /* ms */
    --wave-duration: 500; /* ms */
    --drop-width-ratio: 40; /* fraction of cell size */
    --drop-height-ratio: 2; /* fraction of cell size */
    --anim-duration: calc(var(--fall-duration) * 1ms + var(--wave-duration) * 1ms);
    background: paint(rainfall);
    animation: progress var(--anim-duration) linear infinite;
  }

  @media (prefers-color-scheme: dark) {
    artsy-block[type="rainfall"] {
      --base-lightness: 80;
    }
  }

}